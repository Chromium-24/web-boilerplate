{% if postFieldsAsArray is not defined %}
  {% set postFieldsAsArray = true %}
{% endif %}

<div class="form-control-group">
  <label class="{{ required ? 'required' }}" for="{{ field.handle }}">{{ field.name }}</label><br>

  <input {{ required ? 'required' }}
    class="form-control{{ required ? ' -required' }}"
    id="{{ field.handle }}"
    name="{{ postFieldsAsArray ? 'fields[' }}{{ fieldPrefix|default('') }}{{ field.handle }}{{ postFieldsAsArray ? ']' }}"
    value="{{ craft.request.getParam(field.handle)|default('') }}"
    type="email">
 </div>
